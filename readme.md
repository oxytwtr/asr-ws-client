## Инструкция по использованию клиента для WS ASR сервера

1. Установить зависимости
2. Запустить asr_ws_client.py

```shell
python asr_ws_client.py --host ws://localhost:2700 --show_devices true
```
Где host - адрес и порт ws asr сервера с префиксом протокола

Клиент отправляет серверу байты с аудио в формате PCM int16 с заданным framerate для распознавания
Размер чанка с байтами задается в kwargs, надо поэкспериментировать с whisper
Клиент может также отправлять серверу строку инициализации такого вида 

```python
str: "{ 'config' : { 'sample_rate' : 16000 } }"  
```

Эти строки надо также принимать и распознавать в зависимости от sample_rate
Строки не содержащие 'config' - игнорировать
Аудиопоток может быть только одноканальным

Сервер отдает только строки (json), вида:

```python
str: "{ 'text' : 'full text' }"  

or 

str: "{ 'partial' : 'full text' }" 
```

Сервер  может отдавать текст в ключе text или partial, не важно. Другие ключи игнорируются, строка должна быть json.

## WS ASR сервер - пример

В каталоге vosk размещен пример сервера на vosk. В коде можно посмотреть принцип общения сервера с клиентом.

Для запуска сервера подготовлен Dockerfile с комментариями, можно также запустить скрипт, установив требуемые зависимости и скачав модель (инструкции в каталоге vosk/models)